<?xml version="1.0" encoding="UTF-8"?>
<plugin:page xmlns="html5" xmlns:plugin="plugin" xmlns:c="core">
	<plugin:head>
		<script type="text/javascript" src="js/app.js"></script>
	</plugin:head>
						
	<plugin:body>
		<style type="text/css">
			td > div {
			    background-color: #e6e6fc;
			    min-height: 100px;
			    min-width: 200px;
			    padding: 10px 10px 0 0;
			}
			.horList1 {
			    list-style: none outside none;
			    margin: 0;
			    padding-left: 0;
			}
			.horList1 > li {
			    background-color: #f7f7f9;
			    border-radius: 2px;
			    display: inline-block;
			    margin-bottom: 10px;
			    margin-left: 10px;
			    padding-left: 10px;
			    padding-right: 10px;
			}
			.prin-del {
			    cursor: pointer;
			    margin-left: 10px;
			}
		</style>
	
		<c:if test="${not empty msg}">
			<p class="msg-container">
				<span class="fa fa-info-circle fa-lg" style="margin-left: 5px; margin-right: 5px; color: white;"></span>
				<c:out value="${msg.details}"/>
			</p>
		</c:if>
		
	    <div style="padding: 15px;">
	        <form name="groupDetails" method="POST" action="saveGroup">
	        	<fieldset>
					<legend>Group information</legend>
	                <ul style="list-style: none;">
	                     <li>Name</li>
	                     <li>
	                     		<text property="name" size="100" />
	                     </li>
	                     <hidden property="id" />
	                </ul>
	        	</fieldset>
	        	
	        	<fieldset style="margin-top: 20px; padding: 20px;">
					<legend>Group members</legend>
					<table style="width: 100%;" class="piston-table">
						<tr>
							<th>
								Members
							</th>
							<th>
								Actions
							</th>
						</tr>
						<tr>
							<td style="padding: 0px;">
								<div id="members" class="pseudo-member-container">
									<ul class="horList1">
										<c:iterate items="${groupDetails.members}" var="member">
											<li>
												<span><c:out value="${member.split(':')[1]}" /></span>
												<span class="prin-del">x</span>
											</li>
										</c:iterate>
									</ul>
									<c:iterate items="${groupDetails.members}" var="member">
										<input class="pseudo-role" type="hidden" name="members" value="${member}" />
									</c:iterate>
								</div>
							</td>
							<td style="text-align: center;">
								<pButton class="pt-btn pseudo-add-member" faClass="fa fa-plus fa-lg" faStyle="font-size: 1.2em; padding-right: 6px;"> 
			  						<c:out value="Add" />
					  			</pButton>
							</td>
						</tr>
					</table>   
				</fieldset>
				
				<div style="text-align: right; margin-top: 20px;">
					<pButton class="pt-btn pseudo-submit-button" faClass="fa fa-save fa-lg" faStyle="font-size: 1.2em; padding-right: 6px;"> 
		  				<c:if test="${empty groupDetails.id}">
							<c:out value="Create" />
						</c:if>
						<c:if test="${not empty groupDetails.id}">
							<c:out value="Update" />
						</c:if>
		  			</pButton>
					<plugin:actionURL action="search" class="pt-btn" faClass="fa fa-close fa-lg" faStyle="font-size: 1.2em; padding-right: 6px;">
						<c:out value="Close" />
					</plugin:actionURL>
				</div>
            </form>
	    </div>
	</plugin:body>
</plugin:page>
