<?xml version="1.0" encoding="UTF-8"?>
<plugin:page xmlns="html5" xmlns:plugin="plugin" xmlns:c="core">
	<plugin:body>
   		<c:if test="${not empty msg}">
			<p class="msg-container">
				<span class="fa fa-info-circle fa-lg" style="margin-left: 5px; margin-right: 5px; color: white;"></span>
				<c:out value="${msg.details}"/>
			</p>
		</c:if>
		
		<div style="padding: 10px;">
			<c:if test="${searchType == 'USER' and not empty users}">
				<table class="piston-table" style="width: 100%;">
	           		<tr>
						<th>Select</th>
						<th>UID</th>
						<th>First Name</th>
						<th>Last Name</th>
						<th>Email</th>
						<th>Actions</th>
					</tr>
					<c:iterate items="${users}" var="user">
						<tr>
							<td style="text-align:center;">
								<checkbox property="principalIds" value="${user.id}" />
							</td>
							<td><c:out value="${user.uid}" /></td>
							<td><c:out value="${user.firstName}" /></td>
							<td><c:out value="${user.lastName}" /></td>
							<td><c:out value="${user.email}" /></td>
							<td>
								<plugin:actionURL action="userDetails" title="Edit User" class="img-btn" faClass="fa fa-pencil fa-lg" faStyle="font-size: 1.2em;">
									<plugin:param name="id" value="${user.id}" />
								</plugin:actionURL>
							</td>
						</tr>
					</c:iterate>
				</table>
				
				<p style="padding-left: 10px;">
					<pButton class="pt-btn pseudo-delete-principals" faClass="fa fa-trash fa-lg" faStyle="font-size: 1.2em; padding-right: 6px;"> 
	  					<c:out value="Delete" />
	  				</pButton>
  				</p>
			</c:if>

			<c:if test="${searchType == 'GROUP' and not empty groups}">
				<table class="piston-table" style="width: 100%;">
					<tr>
						<th>Select</th>
						<th>Name</th>
						<th>Actions</th>
					</tr>
					<c:iterate items="${groups}" var="group">
						<tr>
							<td style="text-align:center;">
								<checkbox property="principalIds" value="${group.id}" />
							</td>
							<td>
  								<c:out value="${group.name}" />
							</td>
							<td>
								<plugin:actionURL action="groupDetails" title="Edit Group" class="img-btn" faClass="fa fa-pencil fa-lg" faStyle="font-size: 1.2em;">
									<plugin:param name="id" value="${group.id}" />
								</plugin:actionURL>
							</td>
						</tr>
					</c:iterate>
				</table>
				
				<p style="padding-left: 10px;">
					<pButton class="pt-btn pseudo-delete-principals" faClass="fa fa-trash fa-lg" faStyle="font-size: 1.2em; padding-right: 6px;"> 
	  					<c:out value="Delete" />
	  				</pButton>
  				</p>
			</c:if>
			
			<c:if test="${searchType == 'USER' and empty users}">
				<c:out value="No user found." />
			</c:if>
			<c:if test="${searchType == 'GROUP' and empty groups}">
				<c:out value="No group found." />
			</c:if>
		</div>
	</plugin:body>
</plugin:page>